#ifndef _AETHER2_
#define _AETHER2_

#define aether2_schema(X,Y,...)\
    M(X,Y, i, prop,  public, string,                 name) \
    M(X,Y, i, prop,  public, path,                   source) \
    M(X,Y, i, prop,  public, path,                   current_inc) \
    M(X,Y, i, prop,  public, array,                  libs) \
    M(X,Y, i, prop,  public, array,                  lexical) \
    M(X,Y, i, prop,  public, bool,                   is_Au_import) \
    M(X,Y, i, prop,  public, Au_t,                   au_module) \
    M(X,Y, i, prop,  public, array,                  sys_inc_paths) \
    M(X,Y, i, prop,  public, array,                  sys_exc_paths) \
    M(X,Y, i, prop,  public, array,                  include_paths) \
    M(X,Y, i, prop,  public, array,                  framework_paths) \
    M(X,Y, i, prop,  public, array,                  lib_paths) \
    M(X,Y, i, prop,  public, path,                   isysroot) \
    M(X,Y, i, prop,  public, path,                   resource_dir) \
    M(X,Y, i, prop,  public, path,                   isystem) \
    M(X,Y, i, prop,  public, bool,                   verbose) \
    M(X,Y, i, prop,  public, path,                   install) \
    M(X,Y, i, prop,  intern, LLVMExecutionEngineRef, jit,               as, ARef) \
    M(X,Y, i, prop,  intern, LLVMBasicBlockRef,      current_if_block,  as, ARef) \
    M(X,Y, i, prop,  intern, LLVMModuleRef,          module,            as, ARef) \
    M(X,Y, i, prop,  intern, LLVMContextRef,         module_ctx,        as, ARef) \
    M(X,Y, i, prop,  intern, LLVMBuilderRef,         builder,           as, ARef) \
    M(X,Y, i, prop,  intern, LLVMMetadataRef,        file,              as, ARef) \
    M(X,Y, i, prop,  intern, LLVMMetadataRef,        compile_unit,      as, ARef) \
    M(X,Y, i, prop,  intern, LLVMDIBuilderRef,       dbg_builder,       as, ARef) \
    M(X,Y, i, prop,  intern, LLVMTargetRef,          target,            as, ARef) \
    M(X,Y, i, prop,  intern, LLVMTargetDataRef,      target_data,       as, ARef) \
    M(X,Y, i, prop,  intern, LLVMTargetMachineRef,   target_machine,    as, ARef) \
    M(X,Y, i, prop,  intern, LLVMScope,              scope,             as, ARef) \
    M(X,Y, i, prop,  intern, cstr,                   target_triple) \
    M(X,Y, i, prop,  intern, array,                  registry) \
    i_method(X,Y, public, path,   lookup_include, string) \
    i_method(X,Y, public, path,   include,        Au, ARef) \
    i_method(X,Y, public, Au_t,   top_scope) \
    i_method(X,Y, public, none,   push_scope, Au_t) \
    M(X,Y, i, override, method, init) \
    M(X,Y, i, override, cast, Au_t)
declare_class(aether2);

#define etype_schema(X,Y,...)\
    M(X,Y, i, prop, public,   Au_t,             au) \
    M(X,Y, i, prop, public,   aether2,          mod) \
    M(X,Y, i, prop, public,   etype,            schema) \
    M(X,Y, i, prop, public,   bool,             is_schema) \
    M(X,Y, i, prop, public,   bool,             is_implemented) \
    M(X,Y, i, prop, intern,   LLVMScope,        scope, as, ARef) \
    M(X,Y, i, prop, intern,   LLVMTypeRef,      type,  as, ARef) \
    M(X,Y, i, prop, intern,   LLVMMetadataRef,  debug, as, ARef) \
    M(X,Y, i, override, method, init) \
    M(X,Y, i, override, cast,   Au_t)
declare_class(etype)

#define enode2_schema(X,Y,...)\
    M(X,Y, i, prop, public,   enode2,           target) \
    M(X,Y, i, prop, public,   etype,            t) \
    M(X,Y, i, prop, public,   aether2,          mod) \
    M(X,Y, i, prop, intern,   LLVMValueRef,     value,  as, ARef) \
    M(X,Y, i, override, cast, Au_t)
declare_class(enode2)

#define aclang2_cc_schema(X,Y,...) \
    i_prop  (X,Y, public, aether2,  mod) \
    i_prop  (X,Y, public, handle,   compiler) \
    i_prop  (X,Y, public, handle,   PP) \
    i_prop  (X,Y, public, handle,   ctx) \
    i_prop  (X,Y, public, handle,   consumer) \
    i_prop  (X,Y, public, handle,   S) \
    i_prop  (X,Y, public, handle,   P) \
    i_prop  (X,Y, public, handle,   module)
declare_class(aclang2_cc)


Au_t  au_lexical(array, symbol);
etype etype_lexical(aether2, symbol);

#endif